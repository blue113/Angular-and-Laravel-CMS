<!-- START: tables/datatables -->
<section class="card">
    <div class="card-header">
        <span class="cat__core__title">
            <strong>Push Notification Settings</strong>
        </span>
    </div>
    <div class="card-block">
        <div class="row">
            <div class="col-lg-12">
                <div class="mb-5">

                    <form #basicInformationForm="ngForm" (ngSubmit)="pushNotificationSubmit(basicInformationForm)" [formGroup]="asform">
                        <div class="row">
                            <div class="col-md-6" [hidden] =!is_superadmin >
                                <div class="form-group row">
                                    <label class="col-md-4 col-form-label" for="l0">Firebase Channel ID
                                    <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="Firebase Channel ID"></i>
                                    <span class="mandatory-field">*</span>
                                    </label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" name="firebase_id" placeholder="Enter Firebase Channel ID" [formControl]="asform.controls['firebase_id']">
                                        <small *ngIf="asform.controls['firebase_id'].hasError('required') && asform.controls['firebase_id'].touched" class="form-message text-danger">This field is required.</small>
                                    </div>
                                </div>
                            </div>                            
                        </div>

                        <div class="card-block" style='padding:1.25rem 0;'>
                            <div class="col-md-6">
                                <div class="form-group form-group row">
                                    <label class="col-md-5 col-form-label" for="firebase_serverkey">Server Key
                                        <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right"
                                            title="Register your app in the FCM Console: https://console.firebase.google.com (add project)
                                            1. Click on the newly added project, in the upper left menu is the 'Overview' and Gear Settings.
                                        
                                            2. Click on the GEAR settings icon, and then on 'Project Settings'
                                            
                                            3. In the main screen, click on 'Cloud Messaging'
                                            
                                            4. Here you will find your 'Server Key'">
                                        </i>
                                        <span class="mandatory-field">*</span>
                                    </label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" name="firebase_serverkey" placeholder="Enter Server Key" [(ngModel)]="server_key" [ngModelOptions]="{standalone: true}">
                                        <small *ngIf="asform.controls['server_key'].hasError('required') && asform.controls['server_key'].touched" class="form-message text-danger">This field is required.</small>

                                        <small *ngIf="asform.controls['server_key'].hasError('matchCorrectSpace') && asform.controls['server_key'].touched" class="form-message text-danger">Please enter valid android app id</small>

                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class=" form-group row">
                                    <label class="col-md-5 col-form-label" for="firebase_title">Title
                                        <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="Enter Title."></i>

                                        <span class="mandatory-field">*</span>
                                    </label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" name="firebase_title" placeholder="Enter Title" [(ngModel)]="firebase_title" [ngModelOptions]="{standalone: true}">
                                        <small *ngIf="asform.controls['firebase_title'].hasError('required') && asform.controls['firebase_title'].touched" class="form-message text-danger">This field is required.</small>

                                        <small *ngIf="asform.controls['firebase_title'].hasError('matchCorrectSpace') && asform.controls['firebase_title'].touched" class="form-message text-danger">Please enter valid ios app id</small>

                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class=" form-group row">
                                    <label class="col-md-5 col-form-label" for="firebase_text">Text
                                        <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="Enter Text."></i>

                                        <span class="mandatory-field">*</span>
                                    </label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" name="firebase_text" placeholder="Enter Text" [(ngModel)]="firebase_text" [ngModelOptions]="{standalone: true}" >
                                        <small *ngIf="asform.controls['firebase_text'].hasError('required') && asform.controls['firebase_text'].touched" class="form-message text-danger">This field is required.</small>

                                        <small *ngIf="asform.controls['firebase_text'].hasError('matchCorrectSpace') && asform.controls['firebase_text'].touched" class="form-message text-danger">Please enter valid ios app id</small>

                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class=" form-group row">
                                    <label class="col-md-5 col-form-label" for="l0">
                                            Color:
                                    </label>
                                    <div class="col-md-3">
                                        <input type="text"
                                            class="form-control cursor_pointer_input"
                                            [style.background]="firebase_color"
                                            [(colorPicker)]="firebase_color" 
                                            [cpOutputFormat]="'hex'"
                                            [cpPosition]="'bottom'" 
                                            (colorPickerChange)="rgbaText=ChangeColorPicker($event);"
                                            [readonly]="true" />
                                    </div>
                                    <label *ngIf="firebase_color" class="col-md-3 col-form-label" for="l0">
                                        Hex: {{firebase_color}}
                                    </label>
                                    <label *ngIf="firebase_color == ''" class="col-md-3 col-form-label" for="l0">
                                        Hex: #000000
                                    </label>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class=" form-group row">
                                    <label class="col-md-5 col-form-label" for="user_punch_card_system">Sound</label>
                                    <div class="col-md-6">
                                        <select class="form-control" [(ngModel)]="sound_flag" [ngModelOptions]="{standalone: true}"  >
                                            <option value="default" >Enable</option>
                                            <option value="" >Disable</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class=" form-group row">
                                    <label class="col-md-5 col-form-label" for="l0">
                                        Expires:
                                    </label>
                                    <input type="text" class="form-control col-md-3 text-stage" name="text" placeholder="Enter title" [(ngModel)]="expires_value" [ngModelOptions]="{standalone: true}" >
                                    <div class="col-md-3">
                                        <select class="form-control" [(ngModel)]="expires_type" [ngModelOptions]="{standalone: true}" >
                                            <option value="1" >Hours</option>
                                            <option value="2" >Days</option>
                                            <option value="3" >Weeks</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions clearfix">
                            <div class="pull-left">
                                <button #saveBtn type="submit" [disabled]="!asform.valid" class="btn btn-primary mr-3">Send</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- END: tables/datatables -->
